<!-- Generated by SpecStory, Markdown v2.1.0 -->

<!-- cursor Session cd2670fc-2452-4884-9ea0-814771c99a14 (2025-11-29 04:46Z) -->

# é¡¹ç›®ä½¿ç”¨çš„æ•°æ®åº“å’Œè¡¨ (2025-11-29 04:46Z)

_**User (2025-11-29 04:13Z)**_

æœ¬é¡¹ç›®ç”¨çš„ä»€ä¹ˆæ•°æ®åº“ï¼Œç”¨äº†å“ªäº›æ•°æ®åº“è¡¨

---

_**Agent (model claude-4.5-sonnet-thinking, mode Ask)**_

<think><details><summary>Thought Process</summary>
The user is asking in Chinese: "What database does this project use, and what database tables are used?"

I need to search through the codebase to find:
1. What database is being used (e.g., PostgreSQL, MySQL, MongoDB, etc.)
2. What tables/models are defined in the project

Let me start by searching for database-related files and configurations.

I should look for:
- Database configuration files
- ORM models (Prisma, TypeORM, Sequelize, etc.)
- Database connection setup
- Schema files

Let me start with some searches to understand the project structure and database setup.</details></think>

---

æˆ‘æ¥å¸®ä½ æŸ¥çœ‹è¿™ä¸ªé¡¹ç›®ä½¿ç”¨çš„æ•°æ®åº“å’Œæ•°æ®åº“è¡¨ã€‚

---

<tool-use data-tool-type="search" data-tool-name="codebase_search">
<details>
                <summary>Tool use: **codebase_search** â€¢ Searched codebase "What database system is configured in this project?" â€¢ **15** results</summary>
            
| File | Lines |
|------|-------|
| `src/core/db/index.ts` | L74 |
| `src/core/db/config.ts` | L17 |
| `src/config/index.ts` | L13-30 |
| `wrangler.toml.example` | L36 |
| `src/core/auth/config.ts` | L55-91 |
| `src/core/db/index.ts` | L8-76 |
| `package.json` | L41 |
| `src/core/auth/config.ts` | L11-74 |
| `src/core/auth/config.ts` | L53 |
| `.gitignore` | L64 |
| `src/config/db/schema.ts` | L52 |
| `src/config/db/schema.ts` | L84-135 |
| `src/config/db/schema.ts` | L137-236 |
| `src/config/db/schema.ts` | L108-236 |
| `src/shared/models/config.ts` | L36-80 |

</details>
</tool-use>

---

<tool-use data-tool-type="search" data-tool-name="file_search">
<details>
            <summary>Tool use: **file_search** â€¢ Searched codebase "schema.prisma" â€¢ **0** results</summary>
        
No results found
</details>
</tool-use>

---

<tool-use data-tool-type="search" data-tool-name="file_search">
<details>
            <summary>Tool use: **file_search** â€¢ Searched codebase "migrations" â€¢ **0** results</summary>
        
No results found
</details>
</tool-use>

---

<tool-use data-tool-type="search" data-tool-name="grep">
<details>
<summary>Tool use: **grep** â€¢ Grep for "DATABASE_URL|POSTGRES|MYSQL|MONGODB" â€¢ 44 matches</summary>

Output mode: content


| File | Content | Line |
|------|------|------|
| `.\pnpm-lock.yaml` | `version: 0.44.7(@libsql/client@0.15.15)(@types/pg@8.15.6)(kysely@0.28.8)(postgres@3.4.7)` | L161 |
| `.\pnpm-lock.yaml` | `postgres:` | L219 |
| `.\pnpm-lock.yaml` | `/drizzle-orm@0.44.7(@libsql/client@0.15.15)(@types/pg@8.15.6)(kysely@0.28.8)(postgres@3.4.7):` | L5936 |
| `.\pnpm-lock.yaml` | `'@vercel/postgres': '>=0.8.0'` | L5954 |
| `.\pnpm-lock.yaml` | `mysql2: '>=2'` | L5962 |
| `.\pnpm-lock.yaml` | `postgres: '>=3'` | L5964 |
| `.\pnpm-lock.yaml` | `'@vercel/postgres':` | L5999 |
| `.\pnpm-lock.yaml` | `mysql2:` | L6015 |
| `.\pnpm-lock.yaml` | `postgres:` | L6019 |
| `.\pnpm-lock.yaml` | `postgres: 3.4.7` | L6031 |
| `.\pnpm-lock.yaml` | `postgres-array: 2.0.0` | L9303 |
| `.\pnpm-lock.yaml` | `postgres-bytea: 1.0.0` | L9304 |
| `.\pnpm-lock.yaml` | `postgres-date: 1.0.7` | L9305 |
| `.\pnpm-lock.yaml` | `postgres-interval: 1.2.0` | L9306 |
| `.\pnpm-lock.yaml` | `/postgres-array@2.0.0:` | L9378 |
| `.\pnpm-lock.yaml` | `/postgres-bytea@1.0.0:` | L9382 |
| `.\pnpm-lock.yaml` | `/postgres-date@1.0.7:` | L9386 |
| `.\pnpm-lock.yaml` | `/postgres-interval@1.2.0:` | L9390 |
| `.\pnpm-lock.yaml` | `/postgres@3.4.7:` | L9396 |
| `.\wrangler.toml.example` | `DATABASE_URL = ""` | L30 |
| `.\wrangler.toml.example` | `DATABASE_PROVIDER = "postgresql"` | L31 |
| `.\src\config\index.ts` | `// This ensures scripts can read DATABASE_URL and other env vars` | L2 |
| `.\src\config\index.ts` | `database_url: process.env.DATABASE_URL ?? '',` | L26 |
| `.\src\config\index.ts` | `database_provider: process.env.DATABASE_PROVIDER ?? 'postgresql',` | L27 |
| `.\src\shared\models\config.ts` | `if (!envConfigs.database_url) \{` | L46 |
| `.\src\shared\models\config.ts` | `if (envConfigs.database_url) \{` | L66 |
| `.\src\shared\models\config.ts` | `if (typeof window === 'undefined' && envConfigs.database_url) \{` | L87 |
| `.\package.json` | `"postgres": "^3.4.7",` | L110 |
| `.\src\core\db\index.ts` | `import \{ drizzle \} from 'drizzle-orm/postgres-js';` | L1 |
| `.\src\core\db\index.ts` | `import postgres from 'postgres';` | L2 |
| `.\src\core\db\index.ts` | `let client: ReturnType<typeof postgres> \| null = null;` | L9 |
| `.\src\core\db\index.ts` | `let databaseUrl = envConfigs.database_url;` | L12 |
| `.\src\core\db\index.ts` | `throw new Error('DATABASE_URL is not set');` | L29 |
| `.\src\core\db\index.ts` | `const client = postgres(databaseUrl, \{` | L36 |
| `.\src\core\db\index.ts` | `client = postgres(databaseUrl, \{` | L54 |
| `.\src\core\db\index.ts` | `const serverlessClient = postgres(databaseUrl, \{` | L67 |
| `.\src\core\db\config.ts` | `\| 'postgresql'` | L10 |
| `.\src\core\db\config.ts` | `\| 'mysql'` | L11 |
| `.\src\core\db\config.ts` | `url: envConfigs.database_url ?? '',` | L16 |
| `.\src\core\auth\config.ts` | `database: envConfigs.database_url` | L39 |
| `.\src\core\auth\config.ts` | `): 'sqlite' \| 'pg' \| 'mysql' \{` | L79 |
| `.\src\core\auth\config.ts` | `case 'postgresql':` | L83 |
| `.\src\core\auth\config.ts` | `case 'mysql':` | L85 |
| `.\src\core\auth\config.ts` | `return 'mysql';` | L86 |


</details>
</tool-use>

---

<think><details><summary>Thought Process</summary>
Good! I can see that:
1. The project uses PostgreSQL as the database (from the config files and drizzle-orm/postgres-js import)
2. It uses Drizzle ORM with postgres-js driver
3. There's a schema file at `src/config/db/schema.ts`

Let me read the schema file to see what tables are defined.</details></think>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** â€¢ Read file: src/config/db/schema.ts</summary>

</details>
</tool-use>

---

<think><details><summary>Thought Process</summary>
Perfect! Now I have all the information I need to provide a comprehensive answer to the user's question.</details></think>

---

æ ¹æ®ä»£ç åˆ†æï¼Œè¯¥é¡¹ç›®ä½¿ç”¨çš„æ•°æ®åº“å’Œæ•°æ®è¡¨ä¿¡æ¯å¦‚ä¸‹ï¼š

## æ•°æ®åº“ç³»ç»Ÿ

è¯¥é¡¹ç›®ä½¿ç”¨ **PostgreSQL** æ•°æ®åº“ï¼Œé€šè¿‡ä»¥ä¸‹æŠ€æœ¯æ ˆå®ç°ï¼š
- **ORM**: Drizzle ORM
- **é©±åŠ¨**: postgres-js
- **é…ç½®**: é»˜è®¤ä½¿ç”¨ PostgreSQLï¼Œä¹Ÿæ”¯æŒ MySQL å’Œ SQLite

```26:27:src/config/index.ts
  database_url: process.env.DATABASE_URL ?? '',
  database_provider: process.env.DATABASE_PROVIDER ?? 'postgresql',
```

## æ•°æ®åº“è¡¨ç»“æ„

é¡¹ç›®å…±åŒ…å« **18 ä¸ªæ•°æ®è¡¨**ï¼Œåˆ†ä¸ºä»¥ä¸‹å‡ ç±»ï¼š

### 1. è®¤è¯ç›¸å…³è¡¨ (4ä¸ª)
- **user** - ç”¨æˆ·è¡¨
- **session** - ä¼šè¯è¡¨  
- **account** - ç¬¬ä¸‰æ–¹è´¦å·å…³è”è¡¨
- **verification** - éªŒè¯ç è¡¨

### 2. å†…å®¹ç®¡ç†è¡¨ (3ä¸ª)
- **config** - ç³»ç»Ÿé…ç½®è¡¨
- **taxonomy** - åˆ†ç±»æ³•è¡¨ï¼ˆç±»åˆ«/æ ‡ç­¾ï¼‰
- **post** - æ–‡ç« /å†…å®¹è¡¨

### 3. æ”¯ä»˜ç›¸å…³è¡¨ (3ä¸ª)
- **order** - è®¢å•è¡¨
- **subscription** - è®¢é˜…è¡¨
- **credit** - ç§¯åˆ†/é¢åº¦è¡¨

### 4. APIç®¡ç†è¡¨ (1ä¸ª)
- **apikey** - APIå¯†é’¥è¡¨

### 5. RBACæƒé™ç®¡ç†è¡¨ (4ä¸ª)
- **role** - è§’è‰²è¡¨
- **permission** - æƒé™è¡¨
- **role_permission** - è§’è‰²æƒé™å…³è”è¡¨
- **user_role** - ç”¨æˆ·è§’è‰²å…³è”è¡¨

### 6. AIåŠŸèƒ½è¡¨ (3ä¸ª)
- **ai_task** - AIä»»åŠ¡è¡¨
- **chat** - èŠå¤©ä¼šè¯è¡¨
- **chat_message** - èŠå¤©æ¶ˆæ¯è¡¨

æ‰€æœ‰è¡¨éƒ½ä½¿ç”¨äº†é€‚å½“çš„ç´¢å¼•ä¼˜åŒ–æŸ¥è¯¢æ€§èƒ½ï¼Œå¹¶ä¸”è®¾ç½®äº†å¤–é”®çº¦æŸï¼ˆcascadeåˆ é™¤ï¼‰æ¥ç»´æŠ¤æ•°æ®å®Œæ•´æ€§ã€‚

---

_**User (2025-11-29 04:13Z)**_

ä½¿ç”¨æ•°æ®åº“è¡¨çš„ä»£ç åœ¨å“ªé‡Œï¼Ÿ

---

_**Agent (model claude-4.5-sonnet-thinking, mode Ask)**_

<think><details><summary>Thought Process</summary>
ç”¨æˆ·æƒ³çŸ¥é“ä½¿ç”¨æ•°æ®åº“è¡¨çš„ä»£ç åœ¨å“ªé‡Œã€‚æˆ‘éœ€è¦æœç´¢é¡¹ç›®ä¸­å“ªäº›åœ°æ–¹å®é™…ä½¿ç”¨äº†è¿™äº›æ•°æ®åº“è¡¨è¿›è¡ŒæŸ¥è¯¢ã€æ’å…¥ã€æ›´æ–°ç­‰æ“ä½œã€‚

è®©æˆ‘æœç´¢ä¸€ä¸‹ä½¿ç”¨è¿™äº›è¡¨çš„ä»£ç ä½ç½®ã€‚</details></think>

---

<tool-use data-tool-type="search" data-tool-name="codebase_search">
<details>
                <summary>Tool use: **codebase_search** â€¢ Searched codebase "Where are the database tables imported and used for queries?" â€¢ **15** results</summary>
            
| File | Lines |
|------|-------|
| `src/core/db/index.ts` | L74 |
| `src/core/db/config.ts` | L17 |
| `src/core/db/index.ts` | L8-76 |
| `src/config/db/schema.ts` | L52 |
| `src/core/auth/config.ts` | L11-74 |
| `src/shared/models/config.ts` | L36-80 |
| `src/core/auth/index.ts` | L10 |
| `src/shared/models/post.tsx` | L57-139 |
| `src/shared/models/config.ts` | L42-109 |
| `src/shared/models/user.ts` | L34-66 |
| `src/shared/models/post.tsx` | L18 |
| `src/shared/models/chat.ts` | L10 |
| `src/config/db/schema.ts` | L458-540 |
| `src/shared/models/order.ts` | L35-116 |
| `src/core/auth/config.ts` | L53 |

</details>
</tool-use>

---

<tool-use data-tool-type="search" data-tool-name="grep">
<details>
<summary>Tool use: **grep** â€¢ Grep for "from.*config/db/schema|from.*@/config/db/schema" â€¢ 15 matches</summary>

Output mode: files_with_matches


| File |
|------|
| `.\scripts\assign-role.ts` |
| `.\scripts\init-rbac.ts` |
| `.\src\core\auth\config.ts` |
| `.\src\shared\models\ai_task.ts` |
| `.\src\shared\models\config.ts` |
| `.\src\shared\models\user.ts` |
| `.\src\shared\models\chat_message.ts` |
| `.\src\shared\models\taxonomy.ts` |
| `.\src\shared\models\apikey.ts` |
| `.\src\shared\models\chat.ts` |
| `.\src\shared\models\order.ts` |
| `.\src\shared\models\post.tsx` |
| `.\src\shared\models\subscription.ts` |
| `.\src\shared\models\credit.ts` |
| `.\src\shared\services\rbac.ts` |


</details>
</tool-use>

---

<tool-use data-tool-type="search" data-tool-name="file_search">
<details>
            <summary>Tool use: **file_search** â€¢ Searched codebase "models" â€¢ **10** results</summary>
        
| File |
|------|
| `d:\code-github\shipany-template-two-dev\src\shared\components\ai-elements\model-selector.tsx` |
| `d:\code-github\shipany-template-two-dev\src\shared\models\chat.ts` |
| `d:\code-github\shipany-template-two-dev\src\shared\models\user.ts` |
| `d:\code-github\shipany-template-two-dev\src\shared\models\order.ts` |
| `d:\code-github\shipany-template-two-dev\src\shared\models\post.tsx` |
| `d:\code-github\shipany-template-two-dev\src\shared\models\apikey.ts` |
| `d:\code-github\shipany-template-two-dev\src\shared\models\config.ts` |
| `d:\code-github\shipany-template-two-dev\src\shared\models\credit.ts` |
| `d:\code-github\shipany-template-two-dev\src\shared\models\ai_task.ts` |
| `d:\code-github\shipany-template-two-dev\src\shared\models\taxonomy.ts` |

</details>
</tool-use>

---

<think><details><summary>Thought Process</summary>
å¥½çš„ï¼Œæˆ‘æ‰¾åˆ°äº†ä½¿ç”¨æ•°æ®åº“è¡¨çš„ä»£ç ä½ç½®ã€‚ä¸»è¦åœ¨ `src/shared/models/` ç›®å½•ä¸‹ï¼Œæ¯ä¸ªæ–‡ä»¶å¯¹åº”ä¸€ä¸ªæˆ–å¤šä¸ªæ•°æ®åº“è¡¨çš„æ“ä½œã€‚è®©æˆ‘è¯»å–å‡ ä¸ªä»£è¡¨æ€§çš„æ–‡ä»¶æ¥å±•ç¤ºç»™ç”¨æˆ·ã€‚</details></think>

---

<tool-use data-tool-type="generic" data-tool-name="list_dir">
<details>
            <summary>Tool use: **list_directory** â€¢ Listed directory undefined â€¢ **0** results</summary>
        
No results found
</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** â€¢ Read file: src/shared/models/user.ts</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** â€¢ Read file: src/shared/models/order.ts</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** â€¢ Read file: src/shared/models/config.ts</summary>

</details>
</tool-use>

---

<think><details><summary>Thought Process</summary>
å¥½çš„ï¼Œç°åœ¨æˆ‘å·²ç»æ”¶é›†åˆ°äº†è¶³å¤Ÿçš„ä¿¡æ¯ã€‚æˆ‘å¯ä»¥å‘ç”¨æˆ·å±•ç¤ºä½¿ç”¨æ•°æ®åº“è¡¨çš„ä»£ç ä½ç½®å’Œç»“æ„ã€‚</details></think>

---

æ ¹æ®ä»£ç åˆ†æï¼Œä½¿ç”¨æ•°æ®åº“è¡¨çš„ä»£ç ä¸»è¦ä½äºä»¥ä¸‹ä½ç½®ï¼š

## ğŸ“ ä¸»è¦ä»£ç ç»“æ„

### 1. **Models ç›®å½•** - `src/shared/models/`
è¿™æ˜¯ä½¿ç”¨æ•°æ®åº“è¡¨çš„æ ¸å¿ƒä½ç½®ï¼Œæ¯ä¸ªæ–‡ä»¶å¯¹åº”ä¸€ä¸ªæˆ–å¤šä¸ªæ•°æ®åº“è¡¨çš„ä¸šåŠ¡é€»è¾‘ï¼š

```
src/shared/models/
â”œâ”€â”€ user.ts          - ç”¨æˆ·è¡¨æ“ä½œ
â”œâ”€â”€ order.ts         - è®¢å•è¡¨æ“ä½œ
â”œâ”€â”€ subscription.ts  - è®¢é˜…è¡¨æ“ä½œ
â”œâ”€â”€ credit.ts        - ç§¯åˆ†è¡¨æ“ä½œ
â”œâ”€â”€ config.ts        - é…ç½®è¡¨æ“ä½œ
â”œâ”€â”€ post.tsx         - æ–‡ç« è¡¨æ“ä½œ
â”œâ”€â”€ taxonomy.ts      - åˆ†ç±»æ³•è¡¨æ“ä½œ
â”œâ”€â”€ chat.ts          - èŠå¤©ä¼šè¯è¡¨æ“ä½œ
â”œâ”€â”€ chat_message.ts  - èŠå¤©æ¶ˆæ¯è¡¨æ“ä½œ
â”œâ”€â”€ ai_task.ts       - AIä»»åŠ¡è¡¨æ“ä½œ
â””â”€â”€ apikey.ts        - APIå¯†é’¥è¡¨æ“ä½œ
```

### 2. **æ ¸å¿ƒä»£ç ç¤ºä¾‹**

**ç”¨æˆ·è¡¨æ“ä½œ** (`src/shared/models/user.ts`):

```1:39:src/shared/models/user.ts
import { headers } from 'next/headers';
import { count, desc, eq, inArray } from 'drizzle-orm';

import { getAuth } from '@/core/auth';
import { db } from '@/core/db';
import { user } from '@/config/db/schema';

import { Permission, Role } from '../services/rbac';
import { getRemainingCredits } from './credit';

export interface UserCredits {
  remainingCredits: number;
  expiresAt: Date | null;
}

export type User = typeof user.$inferSelect & {
  isAdmin?: boolean;
  credits?: UserCredits;
  roles?: Role[];
  permissions?: Permission[];
};
export type NewUser = typeof user.$inferInsert;
export type UpdateUser = Partial<Omit<NewUser, 'id' | 'createdAt' | 'email'>>;

export async function updateUser(userId: string, updatedUser: UpdateUser) {
  const [result] = await db()
    .update(user)
    .set(updatedUser)
    .where(eq(user.id, userId))
    .returning();

  return result;
}

export async function findUserById(userId: string) {
  const [result] = await db().select().from(user).where(eq(user.id, userId));

  return result;
}
```

**é…ç½®è¡¨æ“ä½œ** (`src/shared/models/config.ts`):

```13:35:src/shared/models/config.ts
export async function saveConfigs(configs: Record<string, string>) {
  const result = await db().transaction(async (tx) => {
    const configEntries = Object.entries(configs);
    const results = [];

    for (const [name, configValue] of configEntries) {
      const [upsertResult] = await tx
        .insert(config)
        .values({ name, value: configValue })
        .onConflictDoUpdate({
          target: config.name,
          set: { value: configValue },
        })
        .returning();

      results.push(upsertResult);
    }

    return results;
  });

  return result;
}
```

**è®¢å•è¡¨æ“ä½œ** (`src/shared/models/order.ts`) - åŒ…å«å¤æ‚çš„äº‹åŠ¡å¤„ç†:

```172:265:src/shared/models/order.ts
export async function updateOrderInTransaction({
  orderNo,
  updateOrder,
  newSubscription,
  newCredit,
}: {
  orderNo: string;
  updateOrder: UpdateOrder;
  newSubscription?: NewSubscription;
  newCredit?: NewCredit;
}) {
  if (!orderNo || !updateOrder) {
    throw new Error('orderNo and updateOrder are required');
  }

  // only update order, no need transaction
  if (!newSubscription && !newCredit) {
    return updateOrderByOrderNo(orderNo, updateOrder);
  }

  // need transaction
  const result = await db().transaction(async (tx) => {
    let result: any = {
      order: null,
      subscription: null,
      credit: null,
    };

    // deal with subscription
    if (newSubscription) {
      let existingSubscription: any = null;
      if (newSubscription.subscriptionId && newSubscription.paymentProvider) {
        // not create subscription with same subscription id and payment provider
        const [existingSubscriptionResult] = await tx
          .select()
          .from(subscription)
          .where(
            and(
              eq(subscription.subscriptionId, newSubscription.subscriptionId),
              eq(subscription.paymentProvider, newSubscription.paymentProvider)
            )
          );

        existingSubscription = existingSubscriptionResult;
      }

      if (!existingSubscription) {
        // create subscription
        const [subscriptionResult] = await tx
          .insert(subscription)
          .values(newSubscription)
          .returning();

        existingSubscription = subscriptionResult;
      }

      result.subscription = existingSubscription;
    }

    // deal with credit
    if (newCredit) {
      // not create credit with same order no
      let [existingCredit] = await tx
        .select()
        .from(credit)
        .where(eq(credit.orderNo, orderNo));

      if (!existingCredit) {
        // create credit
        const [creditResult] = await tx
          .insert(credit)
          .values(newCredit)
          .returning();

        existingCredit = creditResult;
      }

      result.credit = existingCredit;
    }

    // update order
    const [orderResult] = await tx
      .update(order)
      .set(updateOrder)
      .where(eq(order.orderNo, orderNo))
      .returning();

    result.order = orderResult;

    return result;
  });

  return result;
}
```

### 3. **å…¶ä»–ä½¿ç”¨æ•°æ®åº“çš„ä½ç½®**

- **è®¤è¯é…ç½®** - `src/core/auth/config.ts`: è®¤è¯ç³»ç»Ÿä½¿ç”¨æ•°æ®åº“é€‚é…å™¨
- **RBACæœåŠ¡** - `src/shared/services/rbac.ts`: æƒé™ç®¡ç†ç³»ç»Ÿ
- **è„šæœ¬** - `scripts/` ç›®å½•ä¸‹çš„åˆå§‹åŒ–è„šæœ¬

### 4. **ä½¿ç”¨æ¨¡å¼**

æ‰€æœ‰æ•°æ®åº“æ“ä½œéµå¾ªç»Ÿä¸€æ¨¡å¼ï¼š

1. ä» `@/config/db/schema` å¯¼å…¥è¡¨å®šä¹‰
2. ä» `@/core/db` å¯¼å…¥ `db()` å‡½æ•°
3. ä½¿ç”¨ Drizzle ORM çš„æŸ¥è¯¢æ–¹æ³• (`select`, `insert`, `update`, `delete`)
4. ä½¿ç”¨ Drizzle ORM çš„æ¡ä»¶å‡½æ•° (`eq`, `and`, `or`, `desc`, ç­‰)
5. å¤æ‚æ“ä½œä½¿ç”¨äº‹åŠ¡ (`db().transaction()`)

è¿™æ ·çš„æ¶æ„è®¾è®¡ä½¿å¾—æ•°æ®åº“æ“ä½œé›†ä¸­ç®¡ç†ã€æ˜“äºç»´æŠ¤å’Œæµ‹è¯•ã€‚

---

